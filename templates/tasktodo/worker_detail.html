{% extends 'layouts/base-presentation.html' %}

{% block title %} | {{ worker.username }} {% endblock title %}

{% block content %}
  <h1>
    Name: {{ worker.username }}
  </h1>
   <a href="{% url 'tasktodo:worker-delete' pk=worker.id %}" class="btn btn-danger link-to-page">
    Delete
  </a>
  <a href="{% url 'tasktodo:worker-update' pk=worker.id %}" class="btn btn-secondary link-to-page">
    Update
  </a>
  <hr>
  <h3>Worker detail</h3>
  <p><strong>First name:</strong> {{ worker.first_name }}</p>
  <p><strong>Last name:</strong> {{ worker.last_name }}</p>
  <p><strong>Position:</strong> {{ worker.position }}</p>

  <div class="ml-3">
    <h4>Tasks</h4>

    {% for task in worker.tasks.all %}
        <hr>
        <p><strong>Task:</strong>
          <a href="{% url 'tasktodo:task-detail' pk=task.id %}">{{ task.name }}</a>
        </p>
        <p><strong>Task type:</strong> {{ task.task_type.name }}</p>
        <p><strong>Id:</strong> {{task.id}}</p>

    {% empty %}
      <p>No tasks!</p>
    {% endfor %}
  </div>
{% endblock %}
